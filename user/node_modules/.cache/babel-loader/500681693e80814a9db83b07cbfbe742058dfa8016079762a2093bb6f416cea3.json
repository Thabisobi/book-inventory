{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thabiso\\\\Bakery\\\\my-app - Copy\\\\src\\\\components\\\\AuthPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { loginUser, registerUser } from \"../services/api\";\nimport \"./AuthPage.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AuthPage({\n  onLogin\n}) {\n  _s();\n  const [showLogin, setShowLogin] = useState(true);\n  const [loginData, setLoginData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [registerData, setRegisterData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n\n  // Input handlers\n  const handleLoginChange = e => setLoginData({\n    ...loginData,\n    [e.target.name]: e.target.value\n  });\n  const handleRegisterChange = e => setRegisterData({\n    ...registerData,\n    [e.target.name]: e.target.value\n  });\n\n  // Login submit\n  const handleLoginSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      await loginUser(loginData);\n      onLogin(); // Logged in\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Login failed\");\n    }\n  };\n\n  // Register submit\n  const handleRegisterSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      await registerUser(registerData);\n      alert(\"Registration successful! You can now login.\");\n      setShowLogin(true); // Switch to login after registration\n      setRegisterData({\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      }); // Clear form\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || \"Registration failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"brand-title\",\n        children: \"Sweet Crust Bakery\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 19\n      }, this), showLogin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLoginSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            placeholder: \"Username\",\n            value: loginData.username,\n            onChange: handleLoginChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            value: loginData.password,\n            onChange: handleLoginChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"toggle-text\",\n          children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setShowLogin(false),\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRegisterSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            placeholder: \"Username\",\n            value: registerData.username,\n            onChange: handleRegisterChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            value: registerData.email,\n            onChange: handleRegisterChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            value: registerData.password,\n            onChange: handleRegisterChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"toggle-text\",\n          children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setShowLogin(true),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthPage, \"f5Vy5cFELW1dMnpDh5MOiCdXYpI=\");\n_c = AuthPage;\nexport default AuthPage;\nvar _c;\n$RefreshReg$(_c, \"AuthPage\");","map":{"version":3,"names":["React","useState","loginUser","registerUser","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthPage","onLogin","_s","showLogin","setShowLogin","loginData","setLoginData","username","password","registerData","setRegisterData","email","error","setError","handleLoginChange","e","target","name","value","handleRegisterChange","handleLoginSubmit","preventDefault","err","_err$response","_err$response$data","response","data","handleRegisterSubmit","alert","_err$response2","_err$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Thabiso/Bakery/my-app - Copy/src/components/AuthPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { loginUser, registerUser } from \"../services/api\";\r\nimport \"./AuthPage.css\";\r\n\r\nfunction AuthPage({ onLogin }) {\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [loginData, setLoginData] = useState({ username: \"\", password: \"\" });\r\n  const [registerData, setRegisterData] = useState({ username: \"\", email: \"\", password: \"\" });\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Input handlers\r\n  const handleLoginChange = (e) =>\r\n    setLoginData({ ...loginData, [e.target.name]: e.target.value });\r\n  const handleRegisterChange = (e) =>\r\n    setRegisterData({ ...registerData, [e.target.name]: e.target.value });\r\n\r\n  // Login submit\r\n  const handleLoginSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    try {\r\n      await loginUser(loginData);\r\n      onLogin(); // Logged in\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || \"Login failed\");\r\n    }\r\n  };\r\n\r\n  // Register submit\r\n  const handleRegisterSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    try {\r\n      await registerUser(registerData);\r\n      alert(\"Registration successful! You can now login.\");\r\n      setShowLogin(true); // Switch to login after registration\r\n      setRegisterData({ username: \"\", email: \"\", password: \"\" }); // Clear form\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || \"Registration failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-wrapper\">\r\n      <div className=\"auth-form\">\r\n        <h1 className=\"brand-title\">Sweet Crust Bakery</h1>\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n\r\n        {showLogin ? (\r\n          <>\r\n            <form onSubmit={handleLoginSubmit}>\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                placeholder=\"Username\"\r\n                value={loginData.username}\r\n                onChange={handleLoginChange}\r\n                required\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                value={loginData.password}\r\n                onChange={handleLoginChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn-primary\">Login</button>\r\n            </form>\r\n            <p className=\"toggle-text\">\r\n              Don't have an account? <span onClick={() => setShowLogin(false)}>Register</span>\r\n            </p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <form onSubmit={handleRegisterSubmit}>\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                placeholder=\"Username\"\r\n                value={registerData.username}\r\n                onChange={handleRegisterChange}\r\n                required\r\n              />\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Email\"\r\n                value={registerData.email}\r\n                onChange={handleRegisterChange}\r\n                required\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                value={registerData.password}\r\n                onChange={handleRegisterChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn-primary\">Register</button>\r\n            </form>\r\n            <p className=\"toggle-text\">\r\n              Already have an account? <span onClick={() => setShowLogin(true)}>Login</span>\r\n            </p>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}